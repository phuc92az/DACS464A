<Window x:Class="DoAnCaNhan.QLyPhongVaGhe"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Quản Lý Phòng Chiếu và Ghế"
        Height="800" Width="1400"
        WindowStartupLocation="CenterScreen">

    <Grid Background="#ECF0F1">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="350"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- LEFT: Room Management -->
        <StackPanel Grid.Column="0" Margin="10">
            <TextBlock Text="Quản lý phòng chiếu" FontSize="18" FontWeight="Bold"/>

            <GroupBox Header="Thông tin Phòng" Margin="0,10,0,10">
                <StackPanel>
                    <TextBlock Text="Mã phòng"/>
                    <TextBox x:Name="txtRoomId" IsReadOnly="True" Background="#EEE"/>

                    <TextBlock Text="Tên phòng"/>
                    <TextBox x:Name="txtRoomName"/>

                    <TextBlock Text="Số hàng ghế (A-Z)"/>
                    <TextBox x:Name="txtRows" Text="8" TextChanged="OnRowsColumnsChanged"/>

                    <TextBlock Text="Số ghế mỗi hàng"/>
                    <TextBox x:Name="txtColumns" Text="12" TextChanged="OnRowsColumnsChanged"/>

                    <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                        <Button Content="Thêm" Click="AddRoom_Click" Margin="5"/>
                        <Button Content="Sửa" Click="UpdateRoom_Click" Margin="5"/>
                        <Button Content="Xóa" Click="DeleteRoom_Click" Margin="5"/>
                    </StackPanel>
                </StackPanel>
            </GroupBox>

            <GroupBox Header="Danh sách phòng">
                <ListView x:Name="lstRooms" Height="200" SelectionChanged="RoomSelection_Changed">
                    <ListView.View>
                        <GridView>
                            <GridViewColumn Header="Mã" Width="50" DisplayMemberBinding="{Binding MaPhong}"/>
                            <GridViewColumn Header="Tên phòng" Width="150" DisplayMemberBinding="{Binding TenPhong}"/>
                            <GridViewColumn Header="Số ghế" Width="80" DisplayMemberBinding="{Binding TongSoGhe}"/>
                        </GridView>
                    </ListView.View>
                </ListView>
            </GroupBox>
        </StackPanel>

        <!-- RIGHT: Seat Management -->
        <StackPanel Grid.Column="1" Margin="10">
            <TextBlock Text="Quản lý ghế" FontSize="18" FontWeight="Bold"/>

            <StackPanel Orientation="Horizontal" Margin="0,5">
                <TextBlock Text="Phòng đang chọn: " FontWeight="Bold"/>
                <TextBlock x:Name="lblSelectedRoom" Text="Chưa chọn phòng" Foreground="Red" FontWeight="Bold"/>
                <Button Content="Tạo ghế tự động" Click="AutoCreateSeats_Click" Margin="20,0,0,0"/>
                <Button Content="Xóa tất cả ghế" Click="DeleteAllSeats_Click" Margin="5,0,0,0"/>
            </StackPanel>

            <Border Background="#34495E" Height="25" Margin="0,10">
                <TextBlock Text="MÀN HÌNH" Foreground="White" 
                           HorizontalAlignment="Center" VerticalAlignment="Center"/>
            </Border>

            <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto" Height="400">
                <Grid x:Name="seatGrid"/>
            </ScrollViewer>

            <GroupBox Header="Chi tiết ghế" Margin="0,20,0,0">
                <Grid Margin="10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Column="0">
                        <TextBlock Text="Mã ghế"/>
                        <TextBox x:Name="txtSeatId" IsReadOnly="True" Background="#EEE"/>
                        <TextBlock Text="Hàng"/>
                        <TextBox x:Name="txtHang" IsReadOnly="True" Background="#EEE"/>
                    </StackPanel>

                    <StackPanel Grid.Column="1">
                        <TextBlock Text="Vị trí"/>
                        <TextBox x:Name="txtSeatPosition" IsReadOnly="True" Background="#EEE"/>
                        <TextBlock Text="Cột"/>
                        <TextBox x:Name="txtCot" IsReadOnly="True" Background="#EEE"/>
                    </StackPanel>
                </Grid>
            </GroupBox>
        </StackPanel>
    </Grid>
</Window>
